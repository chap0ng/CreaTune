/* Google Fonts Import */
@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

/* Color Palette */
:root {
  --warm-yellow: #f6c052;
  --steel-blue: #699bc8;
  --sage-green: #8ea47d;
  --warm-beige: #f5eee0;
  --dark-slate: #2d3142;
  --coral-red: #e6695a; /* Accent */

  /* Blended Colors */
  --yellow-blue: #a0ab8d; /* Warm Yellow + Steel Blue */
  --blue-green: #79a397; /* Steel Blue + Sage Green */
  --yellow-green: #bea867; /* Warm Yellow + Sage Green */
  --all-three: #8fa082; /* All three combined */
}

/* CSS Reset */
* {
  margin: 1px; /* frame margins */
  padding: 0;
  box-sizing: border-box;
}

/* Basic styling - Mobile First (Nothing Phone 2a base) */
body {
  font-family: 'VT323', monospace;
  line-height: 1.6;
  color: var(--dark-slate);
  background-color: var(--warm-beige);
  font-size: 20px; /* Increased for VT323 readability on Nothing Phone 2a */
}

.frameidle {
  display: grid;
  grid-template-columns: 20px 1fr 20px;
  grid-template-rows: 20px 1fr 20px;
  grid-template-areas:
    "corner1 frametop corner2"
    "frameleft framebackground frameright"
    "corner3 framebottom corner4";
  width: 100vw;
  height: 100vh;
  max-width: calc(100vh * 1.5); /* 3:2 aspect ratio */
  max-height: calc(100vw / 1.5);
  margin: 0 auto;
  padding: 80px 60px 100px 60px;
  position: relative; 
}


.corner1 {
  grid-area: corner1;
  background-color: var(--coral-red);
  transition: transform;
  will-change: transform;
}
.corner2 {
  grid-area: corner2;
  background-color: var(--coral-red);
  transition: transform;
  will-change: transform;
}
.corner3 {
  grid-area: corner3;
  background-color: var(--coral-red);
}
.corner4 {
  grid-area: corner4;
  background-color: var(--coral-red);
}

.frametop, .corner1, .corner2 {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

/* Force same rendering layer */
.corner1, .corner2 {
    position: relative;
    z-index: 0;
}

.framebackground, .frameleft, .frameright {
  will-change: margin-top;
}

/* Frame */
/* Top, Left, Right, Bottom */
.frametop {
  grid-area: frametop;
  background-color: var(--steel-blue);
  user-select: none;
  -webkit-user-select: none;
  touch-action: none;
  cursor: ns-resize;
  width: 100%;
  height: 100%;
}

@keyframes frametop {
  0% { background-position: 0 0; }
  25% { background-position: -256px 0; }
  50% { background-position: -512px 0; }
  75% { background-position: 0 -64px; }
  100% { background-position: -256px -64px; }
}

.frameleft {
  grid-area: frameleft;
  background-color: var(--steel-blue);
  will-change: height;
}
.frameright {
  grid-area: frameright;
  background-color: var(--steel-blue);
  will-change: height;
}
.framebottom {
  grid-area: framebottom;
  background-color: var(--steel-blue);
}

/* Frame Backgrounds */
/* Background change when ESP32 are Connected */
/* Vary depending on the connection combinations */

/* Idle background */
.framebackground {
  grid-area: framebackground;
  background-color: var(--warm-beige);
  border: none;
  will-change: height;
  position: relative;
  overflow: hidden; /* Ensure clean edges */
}

/* Esp32 specific backgrounds */

.framebackground.soil {
  position: relative;
  background-image: url('images/soil-background.jpg');
}
.framebackground.temp {
  background-color: var(--coral-red);
}
.framebackground.light {
  background-color: var(--coral-red);
}

.framebackground.soil-background {
  width: 64px;
  height: 64px;
  background-image: url('sprite/soil-background.png');
  animation: grid-animation 2s steps(4) 5s;
  z-index: 1;
}

@keyframes grid-animation {
  0% { background-position: 0 0; }
  25% { background-position: -256px 0; }
  50% { background-position: -512px 0; }
  75% { background-position: 0 -64px; }
  100% { background-position: -256px -64px; }
}


/* Creatures */

.idle-creature {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80px;
  height: 80px;
  z-index: 10;
  display: none;
}

.soil-creature {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 70%;
  height: 70%;
  background-color: transparent;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-image: url('sprites/creatures/soil-creature.png');
  display: none;
}

.soil-creature.active {
  display: block;
}